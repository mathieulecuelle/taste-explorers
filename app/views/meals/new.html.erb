<h1>Proposer un repas</h1>

<%= simple_form_for @meal do |f| %>
  <%= f.input :title, label: false, placeholder: "Titre de votre repas" %>
  <%= f.input :description, label: false, placeholder: "Description" %>
  <p class="p-conditions">Ne donnez pas trop d'informations Ã  vos futurs convives ðŸ˜‰</p>

  <div class="category-wrapper">
    <% [
      ['ðŸ‡®ðŸ‡¹ Italie', 'Italie'],
      ['ðŸ‡®ðŸ‡³ Indien', 'Indien'],
      ['ðŸ‡«ðŸ‡· Breton', 'Breton'],
      ['ðŸ‡¬ðŸ‡· Grec', 'Grec'],
      ['ðŸ‡¹ðŸ‡­ ThaÃ¯', 'ThaÃ¯'],
      ['Autre', 'Autre']
    ].each do |label, value| %>
      <div class="category-item">
        <%= f.radio_button :inspiration, value, id: "inspiration_#{value.downcase}", class: 'category-selector' %>
        <label for="inspiration_<%= value.downcase %>" class="category-label"><%= label %></label>
      </div>
    <% end %>
  </div>

  <%= f.input :date,
      as: :string,
      input_html: { data: { controller: "datepicker-norange" } },
      label: false
  %>

  <%= f.input :heure, as: :time, label: false, default: { hour: 19, min: 30 }, input_html: { class: "form-control" } %>

  <%= f.input :duration, label: false, placeholder: "DurÃ©e de votre repas (en heures)" %>

  <%= f.input :location, label: false,
              input_html: {
                data: { address_autocomplete_target: "address" },
                class: "d-none input-with-icon location-icon"
              },
              wrapper_html: {
                data: { controller: "address-autocomplete", address_autocomplete_api_key_value: ENV["MAPBOX_API_KEY"] }
              },
              placeholder: "Entrez une adresse" %>

  <!-- Section pour les champs cÃ´te Ã  cÃ´te -->
  <div class="d-flex gap-3 mb-3">
    <%= f.input :price_per_person, label: false, placeholder: "Prix / pers." %>
    <%= f.input :maximum_guests, label: false, placeholder: "Nb d'invitÃ©s max" %>
  </div>

  <%= f.input :photo, as: :file, label: "Photo d'illustration" %>

  <p class="p-conditions">Ne mettez pas une photo de vos plats, uniquement de l'inspiration</p>

  <div class="d-flex justify-content-center">
    <%= f.button :submit, "Proposer mon repas", class: "button btn-one" %>
  </div>
<% end %>
